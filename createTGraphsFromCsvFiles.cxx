#include "SeaveyDataHandler.h"
#include "TFile.h"





const Int_t numFiles = 272;
const char* fileNames[numFiles] = {"140625_051356_rxp30_hpol_Ch1.csv",
				   "140625_051356_rxp30_hpol_Ch2.csv",
				   "140625_051356_rxp30_hpol_Ch3.csv",
				   "140625_051356_rxp30_hpol_Ch4.csv",
				   "140625_051541_rxp30_hpol_60dBatten_Ch1.csv",
				   "140625_051541_rxp30_hpol_60dBatten_Ch2.csv",
				   "140625_051541_rxp30_hpol_60dBatten_Ch3.csv",
				   "140625_051541_rxp30_hpol_60dBatten_Ch4.csv",
				   "140625_051909_rxp30_hpol_+15az+00el_Ch1.csv",
				   "140625_051909_rxp30_hpol_+15az+00el_Ch2.csv",
				   "140625_051909_rxp30_hpol_+15az+00el_Ch3.csv",
				   "140625_051909_rxp30_hpol_+15az+00el_Ch4.csv",
				   "140625_052309_rxp30_hpol_+15az+00el_off_Ch1.csv",
				   "140625_052309_rxp30_hpol_+15az+00el_off_Ch2.csv",
				   "140625_052309_rxp30_hpol_+15az+00el_off_Ch3.csv",
				   "140625_052309_rxp30_hpol_+15az+00el_off_Ch4.csv",
				   "140625_053031_rxp30_hpol_+30az+00el_Ch1.csv",
				   "140625_053031_rxp30_hpol_+30az+00el_Ch2.csv",
				   "140625_053031_rxp30_hpol_+30az+00el_Ch3.csv",
				   "140625_053031_rxp30_hpol_+30az+00el_Ch4.csv",
				   "140625_053214_rxp30_hpol_+30az+00el_off_Ch1.csv",
				   "140625_053214_rxp30_hpol_+30az+00el_off_Ch2.csv",
				   "140625_053214_rxp30_hpol_+30az+00el_off_Ch3.csv",
				   "140625_053214_rxp30_hpol_+30az+00el_off_Ch4.csv",
				   "140625_053626_rxp30_hpol_+45az+00el_Ch1.csv",
				   "140625_053626_rxp30_hpol_+45az+00el_Ch2.csv",
				   "140625_053626_rxp30_hpol_+45az+00el_Ch3.csv",
				   "140625_053626_rxp30_hpol_+45az+00el_Ch4.csv",
				   "140625_053832_rxp30_hpol_+45az+00el_off_Ch1.csv",
				   "140625_053832_rxp30_hpol_+45az+00el_off_Ch2.csv",
				   "140625_053832_rxp30_hpol_+45az+00el_off_Ch3.csv",
				   "140625_053832_rxp30_hpol_+45az+00el_off_Ch4.csv",
				   "140625_054124_rxp30_hpol_-15az+00el_Ch1.csv",
				   "140625_054124_rxp30_hpol_-15az+00el_Ch2.csv",
				   "140625_054124_rxp30_hpol_-15az+00el_Ch3.csv",
				   "140625_054124_rxp30_hpol_-15az+00el_Ch4.csv",
				   "140625_054305_rxp30_hpol_-15az+00el_off_Ch1.csv",
				   "140625_054305_rxp30_hpol_-15az+00el_off_Ch2.csv",
				   "140625_054305_rxp30_hpol_-15az+00el_off_Ch3.csv",
				   "140625_054305_rxp30_hpol_-15az+00el_off_Ch4.csv",
				   "140625_054643_rxp30_hpol_-30az+00el_Ch1.csv",
				   "140625_054643_rxp30_hpol_-30az+00el_Ch2.csv",
				   "140625_054643_rxp30_hpol_-30az+00el_Ch3.csv",
				   "140625_054643_rxp30_hpol_-30az+00el_Ch4.csv",
				   "140625_054837_rxp30_hpol_-30az+00el_off_Ch1.csv",
				   "140625_054837_rxp30_hpol_-30az+00el_off_Ch2.csv",
				   "140625_054837_rxp30_hpol_-30az+00el_off_Ch3.csv",
				   "140625_054837_rxp30_hpol_-30az+00el_off_Ch4.csv",
				   "140625_055108_rxp30_hpol_-45az+00el_Ch1.csv",
				   "140625_055108_rxp30_hpol_-45az+00el_Ch2.csv",
				   "140625_055108_rxp30_hpol_-45az+00el_Ch3.csv",
				   "140625_055108_rxp30_hpol_-45az+00el_Ch4.csv",
				   "140625_055255_rxp30_hpol_-45az+00el_off_Ch1.csv",
				   "140625_055255_rxp30_hpol_-45az+00el_off_Ch2.csv",
				   "140625_055255_rxp30_hpol_-45az+00el_off_Ch3.csv",
				   "140625_055255_rxp30_hpol_-45az+00el_off_Ch4.csv",
				   "140625_055821_rxp30_hpol_+00az+15el_Ch1.csv",
				   "140625_055821_rxp30_hpol_+00az+15el_Ch2.csv",
				   "140625_055821_rxp30_hpol_+00az+15el_Ch3.csv",
				   "140625_055821_rxp30_hpol_+00az+15el_Ch4.csv",
				   "140625_055946_rxp30_hpol_+00az+15el_off_Ch1.csv",
				   "140625_055946_rxp30_hpol_+00az+15el_off_Ch2.csv",
				   "140625_055946_rxp30_hpol_+00az+15el_off_Ch3.csv",
				   "140625_055946_rxp30_hpol_+00az+15el_off_Ch4.csv",
				   "140625_060314_rxp30_hpol_-15az+15el_Ch1.csv",
				   "140625_060314_rxp30_hpol_-15az+15el_Ch2.csv",
				   "140625_060314_rxp30_hpol_-15az+15el_Ch3.csv",
				   "140625_060314_rxp30_hpol_-15az+15el_Ch4.csv",
				   "140625_060535_rxp30_hpol_-15az+15el_off_Ch1.csv",
				   "140625_060535_rxp30_hpol_-15az+15el_off_Ch2.csv",
				   "140625_060535_rxp30_hpol_-15az+15el_off_Ch3.csv",
				   "140625_060535_rxp30_hpol_-15az+15el_off_Ch4.csv",
				   "140625_060749_rxp30_hpol_+15az+15el_off_Ch1.csv",
				   "140625_060749_rxp30_hpol_+15az+15el_off_Ch2.csv",
				   "140625_060749_rxp30_hpol_+15az+15el_off_Ch3.csv",
				   "140625_060749_rxp30_hpol_+15az+15el_off_Ch4.csv",
				   "140625_060915_rxp30_hpol_+15az+15el_Ch1.csv",
				   "140625_060915_rxp30_hpol_+15az+15el_Ch2.csv",
				   "140625_060915_rxp30_hpol_+15az+15el_Ch3.csv",
				   "140625_060915_rxp30_hpol_+15az+15el_Ch4.csv",
				   "140625_061440_rxp30_hpol_+00az+30el_Ch1.csv",
				   "140625_061440_rxp30_hpol_+00az+30el_Ch2.csv",
				   "140625_061440_rxp30_hpol_+00az+30el_Ch3.csv",
				   "140625_061440_rxp30_hpol_+00az+30el_Ch4.csv",
				   "140625_061553_rxp30_hpol_+00az+30el_off_Ch1.csv",
				   "140625_061553_rxp30_hpol_+00az+30el_off_Ch2.csv",
				   "140625_061553_rxp30_hpol_+00az+30el_off_Ch3.csv",
				   "140625_061553_rxp30_hpol_+00az+30el_off_Ch4.csv",
				   "140625_061932_rxp30_hpol_+00az+45el_off_Ch1.csv",
				   "140625_061932_rxp30_hpol_+00az+45el_off_Ch2.csv",
				   "140625_061932_rxp30_hpol_+00az+45el_off_Ch3.csv",
				   "140625_061932_rxp30_hpol_+00az+45el_off_Ch4.csv",
				   "140625_062129_rxp30_hpol_+00az+45el_Ch1.csv",
				   "140625_062129_rxp30_hpol_+00az+45el_Ch2.csv",
				   "140625_062129_rxp30_hpol_+00az+45el_Ch3.csv",
				   "140625_062129_rxp30_hpol_+00az+45el_Ch4.csv",
				   "140625_065125_rxp30_hpol_+00az-15el_Ch1.csv",
				   "140625_065125_rxp30_hpol_+00az-15el_Ch2.csv",
				   "140625_065125_rxp30_hpol_+00az-15el_Ch3.csv",
				   "140625_065125_rxp30_hpol_+00az-15el_Ch4.csv",
				   "140625_065219_rxp30_hpol_+00az-15el_off_Ch1.csv",
				   "140625_065219_rxp30_hpol_+00az-15el_off_Ch2.csv",
				   "140625_065219_rxp30_hpol_+00az-15el_off_Ch3.csv",
				   "140625_065219_rxp30_hpol_+00az-15el_off_Ch4.csv",
				   "140625_065448_rxp30_hpol_-15az-15el_off_Ch1.csv",
				   "140625_065448_rxp30_hpol_-15az-15el_off_Ch2.csv",
				   "140625_065448_rxp30_hpol_-15az-15el_off_Ch3.csv",
				   "140625_065448_rxp30_hpol_-15az-15el_off_Ch4.csv",
				   "140625_065612_rxp30_hpol_-15az-15el_Ch1.csv",
				   "140625_065612_rxp30_hpol_-15az-15el_Ch2.csv",
				   "140625_065612_rxp30_hpol_-15az-15el_Ch3.csv",
				   "140625_065612_rxp30_hpol_-15az-15el_Ch4.csv",
				   "140625_065816_rxp30_hpol_+15az-15el_Ch1.csv",
				   "140625_065816_rxp30_hpol_+15az-15el_Ch2.csv",
				   "140625_065816_rxp30_hpol_+15az-15el_Ch3.csv",
				   "140625_065816_rxp30_hpol_+15az-15el_Ch4.csv",
				   "140625_065944_rxp30_hpol_+15az-15el_off_Ch1.csv",
				   "140625_065944_rxp30_hpol_+15az-15el_off_Ch2.csv",
				   "140625_065944_rxp30_hpol_+15az-15el_off_Ch3.csv",
				   "140625_065944_rxp30_hpol_+15az-15el_off_Ch4.csv",
				   "140625_070249_rxp30_hpol_+00az-30el_Ch1.csv",
				   "140625_070249_rxp30_hpol_+00az-30el_Ch2.csv",
				   "140625_070249_rxp30_hpol_+00az-30el_Ch3.csv",
				   "140625_070249_rxp30_hpol_+00az-30el_Ch4.csv",
				   "140625_070547_rxp30_hpol_+00az-30el_off_Ch1.csv",
				   "140625_070547_rxp30_hpol_+00az-30el_off_Ch2.csv",
				   "140625_070547_rxp30_hpol_+00az-30el_off_Ch3.csv",
				   "140625_070547_rxp30_hpol_+00az-30el_off_Ch4.csv",
				   "140625_070919_rxp30_hpol_+00az-45el_off_Ch1.csv",
				   "140625_070919_rxp30_hpol_+00az-45el_off_Ch2.csv",
				   "140625_070919_rxp30_hpol_+00az-45el_off_Ch3.csv",
				   "140625_070919_rxp30_hpol_+00az-45el_off_Ch4.csv",
				   "140625_071214_rxp30_hpol_+00az-45el_Ch1.csv",
				   "140625_071214_rxp30_hpol_+00az-45el_Ch2.csv",
				   "140625_071214_rxp30_hpol_+00az-45el_Ch3.csv",
				   "140625_071214_rxp30_hpol_+00az-45el_Ch4.csv",
				   "140625_083727_rxp30_vpol_Ch1.csv",
				   "140625_083727_rxp30_vpol_Ch2.csv",
				   "140625_083727_rxp30_vpol_Ch3.csv",
				   "140625_083727_rxp30_vpol_Ch4.csv",
				   "140625_083910_rxp30_vpol_60dBatten_Ch1.csv",
				   "140625_083910_rxp30_vpol_60dBatten_Ch2.csv",
				   "140625_083910_rxp30_vpol_60dBatten_Ch3.csv",
				   "140625_083910_rxp30_vpol_60dBatten_Ch4.csv",
				   "140625_084105_rxp30_vpol_+15az+00el_off_Ch1.csv",
				   "140625_084105_rxp30_vpol_+15az+00el_off_Ch2.csv",
				   "140625_084105_rxp30_vpol_+15az+00el_off_Ch3.csv",
				   "140625_084105_rxp30_vpol_+15az+00el_off_Ch4.csv",
				   "140625_084315_rxp30_vpol_+15az+00el_Ch1.csv",
				   "140625_084315_rxp30_vpol_+15az+00el_Ch2.csv",
				   "140625_084315_rxp30_vpol_+15az+00el_Ch3.csv",
				   "140625_084315_rxp30_vpol_+15az+00el_Ch4.csv",
				   "140625_084533_rxp30_vpol_+30az+00el_Ch1.csv",
				   "140625_084533_rxp30_vpol_+30az+00el_Ch2.csv",
				   "140625_084533_rxp30_vpol_+30az+00el_Ch3.csv",
				   "140625_084533_rxp30_vpol_+30az+00el_Ch4.csv",
				   "140625_084730_rxp30_vpol_+30az+00el_off_Ch1.csv",
				   "140625_084730_rxp30_vpol_+30az+00el_off_Ch2.csv",
				   "140625_084730_rxp30_vpol_+30az+00el_off_Ch3.csv",
				   "140625_084730_rxp30_vpol_+30az+00el_off_Ch4.csv",
				   "140625_084924_rxp30_vpol_+45az+00el_Ch1.csv",
				   "140625_084924_rxp30_vpol_+45az+00el_Ch2.csv",
				   "140625_084924_rxp30_vpol_+45az+00el_Ch3.csv",
				   "140625_084924_rxp30_vpol_+45az+00el_Ch4.csv",
				   "140625_085033_rxp30_vpol_+45az+00el_off_Ch1.csv",
				   "140625_085033_rxp30_vpol_+45az+00el_off_Ch2.csv",
				   "140625_085033_rxp30_vpol_+45az+00el_off_Ch3.csv",
				   "140625_085033_rxp30_vpol_+45az+00el_off_Ch4.csv",
				   "140625_085214_rxp30_vpol_-15az+00el_off_Ch1.csv",
				   "140625_085214_rxp30_vpol_-15az+00el_off_Ch2.csv",
				   "140625_085214_rxp30_vpol_-15az+00el_off_Ch3.csv",
				   "140625_085214_rxp30_vpol_-15az+00el_off_Ch4.csv",
				   "140625_085400_rxp30_vpol_-15az+00el_Ch1.csv",
				   "140625_085400_rxp30_vpol_-15az+00el_Ch2.csv",
				   "140625_085400_rxp30_vpol_-15az+00el_Ch3.csv",
				   "140625_085400_rxp30_vpol_-15az+00el_Ch4.csv",
				   "140625_085618_rxp30_vpol_-30az+00el_Ch1.csv",
				   "140625_085618_rxp30_vpol_-30az+00el_Ch2.csv",
				   "140625_085618_rxp30_vpol_-30az+00el_Ch3.csv",
				   "140625_085618_rxp30_vpol_-30az+00el_Ch4.csv",
				   "140625_085813_rxp30_vpol_-30az+00el_off_Ch1.csv",
				   "140625_085813_rxp30_vpol_-30az+00el_off_Ch2.csv",
				   "140625_085813_rxp30_vpol_-30az+00el_off_Ch3.csv",
				   "140625_085813_rxp30_vpol_-30az+00el_off_Ch4.csv",
				   "140625_085957_rxp30_vpol_-45az+00el_off_Ch1.csv",
				   "140625_085957_rxp30_vpol_-45az+00el_off_Ch2.csv",
				   "140625_085957_rxp30_vpol_-45az+00el_off_Ch3.csv",
				   "140625_085957_rxp30_vpol_-45az+00el_off_Ch4.csv",
				   "140625_090134_rxp30_vpol_-45az+00el_Ch1.csv",
				   "140625_090134_rxp30_vpol_-45az+00el_Ch2.csv",
				   "140625_090134_rxp30_vpol_-45az+00el_Ch3.csv",
				   "140625_090134_rxp30_vpol_-45az+00el_Ch4.csv",
				   "140625_090440_rxp30_vpol_+00az+15el_Ch1.csv",
				   "140625_090440_rxp30_vpol_+00az+15el_Ch2.csv",
				   "140625_090440_rxp30_vpol_+00az+15el_Ch3.csv",
				   "140625_090440_rxp30_vpol_+00az+15el_Ch4.csv",
				   "140625_090610_rxp30_vpol_+00az+15el_off_Ch1.csv",
				   "140625_090610_rxp30_vpol_+00az+15el_off_Ch2.csv",
				   "140625_090610_rxp30_vpol_+00az+15el_off_Ch3.csv",
				   "140625_090610_rxp30_vpol_+00az+15el_off_Ch4.csv",
				   "140625_090841_rxp30_vpol_+15az+15el_off_Ch1.csv",
				   "140625_090841_rxp30_vpol_+15az+15el_off_Ch2.csv",
				   "140625_090841_rxp30_vpol_+15az+15el_off_Ch3.csv",
				   "140625_090841_rxp30_vpol_+15az+15el_off_Ch4.csv",
				   "140625_091020_rxp30_vpol_+15az+15el_Ch1.csv",
				   "140625_091020_rxp30_vpol_+15az+15el_Ch2.csv",
				   "140625_091020_rxp30_vpol_+15az+15el_Ch3.csv",
				   "140625_091020_rxp30_vpol_+15az+15el_Ch4.csv",
				   "140625_091219_rxp30_vpol_-15az+15el_Ch1.csv",
				   "140625_091219_rxp30_vpol_-15az+15el_Ch2.csv",
				   "140625_091219_rxp30_vpol_-15az+15el_Ch3.csv",
				   "140625_091219_rxp30_vpol_-15az+15el_Ch4.csv",
				   "140625_091404_rxp30_vpol_-15az+15el_off_Ch1.csv",
				   "140625_091404_rxp30_vpol_-15az+15el_off_Ch2.csv",
				   "140625_091404_rxp30_vpol_-15az+15el_off_Ch3.csv",
				   "140625_091404_rxp30_vpol_-15az+15el_off_Ch4.csv",
				   "140625_091650_rxp30_vpol_+00az+30el_off_Ch1.csv",
				   "140625_091650_rxp30_vpol_+00az+30el_off_Ch2.csv",
				   "140625_091650_rxp30_vpol_+00az+30el_off_Ch3.csv",
				   "140625_091650_rxp30_vpol_+00az+30el_off_Ch4.csv",
				   "140625_091847_rxp30_vpol_+00az+30el_Ch1.csv",
				   "140625_091847_rxp30_vpol_+00az+30el_Ch2.csv",
				   "140625_091847_rxp30_vpol_+00az+30el_Ch3.csv",
				   "140625_091847_rxp30_vpol_+00az+30el_Ch4.csv",
				   "140625_092121_rxp30_vpol_+00az+45el_Ch1.csv",
				   "140625_092121_rxp30_vpol_+00az+45el_Ch2.csv",
				   "140625_092121_rxp30_vpol_+00az+45el_Ch3.csv",
				   "140625_092121_rxp30_vpol_+00az+45el_Ch4.csv",
				   "140625_092249_rxp30_vpol_+00az+45el_off_Ch1.csv",
				   "140625_092249_rxp30_vpol_+00az+45el_off_Ch2.csv",
				   "140625_092249_rxp30_vpol_+00az+45el_off_Ch3.csv",
				   "140625_092249_rxp30_vpol_+00az+45el_off_Ch4.csv",
				   "140625_093822_rxp30_vpol_+00az-15el_off_Ch1.csv",
				   "140625_093822_rxp30_vpol_+00az-15el_off_Ch2.csv",
				   "140625_093822_rxp30_vpol_+00az-15el_off_Ch3.csv",
				   "140625_093822_rxp30_vpol_+00az-15el_off_Ch4.csv",
				   "140625_093950_rxp30_vpol_+00az-15el_Ch1.csv",
				   "140625_093950_rxp30_vpol_+00az-15el_Ch2.csv",
				   "140625_093950_rxp30_vpol_+00az-15el_Ch3.csv",
				   "140625_093950_rxp30_vpol_+00az-15el_Ch4.csv",
				   "140625_094151_rxp30_vpol_-15az-15el_Ch1.csv",
				   "140625_094151_rxp30_vpol_-15az-15el_Ch2.csv",
				   "140625_094151_rxp30_vpol_-15az-15el_Ch3.csv",
				   "140625_094151_rxp30_vpol_-15az-15el_Ch4.csv",
				   "140625_094321_rxp30_vpol_-15az-15el_off_Ch1.csv",
				   "140625_094321_rxp30_vpol_-15az-15el_off_Ch2.csv",
				   "140625_094321_rxp30_vpol_-15az-15el_off_Ch3.csv",
				   "140625_094321_rxp30_vpol_-15az-15el_off_Ch4.csv",
				   "140625_094436_rxp30_vpol_+15az-15el_off_Ch1.csv",
				   "140625_094436_rxp30_vpol_+15az-15el_off_Ch2.csv",
				   "140625_094436_rxp30_vpol_+15az-15el_off_Ch3.csv",
				   "140625_094436_rxp30_vpol_+15az-15el_off_Ch4.csv",
				   "140625_094618_rxp30_vpol_+15az-15el_Ch1.csv",
				   "140625_094618_rxp30_vpol_+15az-15el_Ch2.csv",
				   "140625_094618_rxp30_vpol_+15az-15el_Ch3.csv",
				   "140625_094618_rxp30_vpol_+15az-15el_Ch4.csv",
				   "140625_094852_rxp30_vpol_+00az-30el_Ch1.csv",
				   "140625_094852_rxp30_vpol_+00az-30el_Ch2.csv",
				   "140625_094852_rxp30_vpol_+00az-30el_Ch3.csv",
				   "140625_094852_rxp30_vpol_+00az-30el_Ch4.csv",
				   "140625_095026_rxp30_vpol_+00az-30el_off_Ch1.csv",
				   "140625_095026_rxp30_vpol_+00az-30el_off_Ch2.csv",
				   "140625_095026_rxp30_vpol_+00az-30el_off_Ch3.csv",
				   "140625_095026_rxp30_vpol_+00az-30el_off_Ch4.csv",
				   "140625_095252_rxp30_vpol_+00az-45el_off_Ch1.csv",
				   "140625_095252_rxp30_vpol_+00az-45el_off_Ch2.csv",
				   "140625_095252_rxp30_vpol_+00az-45el_off_Ch3.csv",
				   "140625_095252_rxp30_vpol_+00az-45el_off_Ch4.csv",
				   "140625_095434_rxp30_vpol_+00az-45el_Ch1.csv",
				   "140625_095434_rxp30_vpol_+00az-45el_Ch2.csv",
				   "140625_095434_rxp30_vpol_+00az-45el_Ch3.csv",
				   "140625_095434_rxp30_vpol_+00az-45el_Ch4.csv"};


int main(){

  TFile* fOut = new TFile("seaveyDataAsTGraphs.root", "recreate");

  TString dataDir = "seaveyDataPalestine2014/S21s/";

  const Int_t prefixLengthToRemove = 13;
  const Int_t suffixLengthToRemove = 4;

  for(Int_t fileInd=0; fileInd < numFiles; fileInd++){

    TString fileName = TString::Format("%s", fileNames[fileInd]);
    TGraph* gr = SeaveyDataHandler::getGraphFromCsvFile(dataDir + fileName);

    Int_t newStrLength = fileName.Length();
    newStrLength = newStrLength - suffixLengthToRemove - prefixLengthToRemove;
    TString grName = TString(fileName(prefixLengthToRemove, newStrLength));
    grName = TString("gr") + grName;
    std::cerr << grName.Data() << std::endl;
    gr->SetName(grName);
    gr->Write();
  }


  fOut->Write();
  fOut->Close();
}
